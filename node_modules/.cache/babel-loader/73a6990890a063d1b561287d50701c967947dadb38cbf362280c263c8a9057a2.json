{"ast":null,"code":"var _jsxFileName = \"/Users/nivetham/Documents/face identification in video/src/pages/Analysis/Analysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useCriminal } from '../../context/CriminalContext';\nimport UploadZone from '../../components/UploadZone/UploadZone';\nimport AnalysisPanel from '../../components/AnalysisPanel/AnalysisPanel';\nimport Results from '../../components/Results/Results';\nimport Timeline from '../../components/Timeline/Timeline';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Analysis = () => {\n  _s();\n  var _results$mlStats, _results$mlStats2, _results$mlStats3;\n  const {\n    criminals,\n    setAnalysisResults\n  } = useCriminal();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [results, setResults] = useState(null);\n  const [backendStatus, setBackendStatus] = useState('unknown');\n  const testBackendConnection = async () => {\n    try {\n      setBackendStatus('checking');\n      const response = await fetch('http://localhost:5000/api/health');\n      const data = await response.json();\n      console.log('Backend connection:', data);\n      setBackendStatus('connected');\n      alert(`âœ… Backend is running!\\nPort: ${data.port}\\nStatus: ${data.status}\\nMethod: ${data.method || 'Deep Learning Face Recognition'}`);\n    } catch (error) {\n      console.error('Backend connection failed:', error);\n      setBackendStatus('disconnected');\n      alert('âŒ Cannot connect to ML backend.\\n\\nPlease make sure:\\n1. Python server is running on port 5000\\n2. Backend dependencies are installed\\n3. No firewall blocking the connection');\n    }\n  };\n  const analyzeMedia = async () => {\n    if (!selectedImage || !selectedVideo) {\n      alert('Please upload both a reference face image and a video to analyze');\n      return;\n    }\n\n    // Validate file types\n    if (!selectedImage.type.startsWith('image/')) {\n      alert('Please upload a valid image file for the reference face');\n      return;\n    }\n    if (!selectedVideo.type.startsWith('video/')) {\n      alert('Please upload a valid video file for analysis');\n      return;\n    }\n    setIsAnalyzing(true);\n    setResults(null);\n    try {\n      console.log('Starting ML face classification analysis...');\n\n      // Step 1: Upload reference image to Python backend for ML training\n      const imageFormData = new FormData();\n      imageFormData.append('image', selectedImage);\n      console.log('ðŸ“· Training ML classifier on reference face...');\n      const imageResponse = await fetch('http://localhost:5000/api/upload-reference', {\n        method: 'POST',\n        body: imageFormData\n      });\n      if (!imageResponse.ok) {\n        // Try to parse backend JSON error to show helpful message\n        let errMsg = `HTTP error! status: ${imageResponse.status}`;\n        try {\n          const errBody = await imageResponse.json();\n          if (errBody && errBody.error) errMsg = errBody.error;else errMsg += ` - ${JSON.stringify(errBody)}`;\n        } catch (e) {\n          const text = await imageResponse.text();\n          if (text) errMsg = text;\n        }\n        throw new Error(errMsg);\n      }\n      const imageResult = await imageResponse.json();\n      console.log('ML training result:', imageResult);\n      if (!imageResult.success) {\n        throw new Error(imageResult.error || 'Failed to train ML classifier on reference face');\n      }\n\n      // Step 2: Analyze video with ML classification\n      const videoFormData = new FormData();\n      videoFormData.append('video', selectedVideo);\n      console.log('ðŸŽ¥ Analyzing video with ML face classification...');\n      const videoResponse = await fetch('http://localhost:5000/api/analyze-video', {\n        method: 'POST',\n        body: videoFormData\n      });\n      if (!videoResponse.ok) {\n        // Parse backend error JSON when possible so UI shows the real cause\n        let errMsg = `HTTP error! status: ${videoResponse.status}`;\n        try {\n          const errBody = await videoResponse.json();\n          if (errBody && errBody.error) errMsg = errBody.error;else errMsg += ` - ${JSON.stringify(errBody)}`;\n        } catch (e) {\n          const text = await videoResponse.text();\n          if (text) errMsg = text;\n        }\n        throw new Error(errMsg);\n      }\n      const videoResult = await videoResponse.json();\n      console.log('ML classification results:', videoResult);\n      if (videoResult.error) {\n        throw new Error(videoResult.error);\n      }\n\n      // Format results for frontend display - FIXED PROPERTY NAMES\n      const formattedResults = {\n        matchFound: videoResult.matchFound || false,\n        criminal: {\n          name: \"Target Person\",\n          crime: \"Reference Face Match\",\n          severity: \"High\",\n          image: URL.createObjectURL(selectedImage)\n        },\n        timestamps: videoResult.timestamps || [],\n        analysisTime: videoResult.analysisTime || 'Analysis Complete',\n        totalFrames: videoResult.totalFrames || 0,\n        // FIXED: Use correct property names from backend response\n        mlStats: {\n          totalFacesDetected: videoResult.totalFacesDetected || 0,\n          targetDetections: videoResult.targetDetections || 0,\n          differentPeopleDetected: videoResult.differentPeopleDetected || 0,\n          confidenceThreshold: (videoResult.similarityThreshold || 0.7) * 100,\n          analysisMethod: videoResult.method || \"Deep Learning Analysis\",\n          accuracyNote: videoResult.accuracyNote || \"Using advanced face recognition\"\n        }\n      };\n      setResults(formattedResults);\n      setAnalysisResults(formattedResults);\n      console.log('âœ… ML analysis completed successfully!');\n    } catch (error) {\n      console.error('âŒ Analysis error:', error);\n      if (error.message.includes('Failed to fetch')) {\n        alert(`ðŸš¨ Connection Error: Cannot reach ML backend\\n\\nPlease ensure:\\n1. Python server is running on port 5000\\n2. Run \"python3 app.py\" in backend folder\\n3. Check firewall settings\\n\\nError: ${error.message}`);\n      } else if (error.message.includes('face')) {\n        alert(`ðŸ¤– ML Analysis Error: ${error.message}\\n\\nPlease upload a clear face image where the face is visible and well-lit.`);\n      } else if (error.message.includes('video')) {\n        alert(`ðŸŽ¥ Video Error: ${error.message}\\n\\nPlease check the video file is supported (MP4, MOV, AVI) and not corrupted.`);\n      } else {\n        alert(`âŒ Analysis Failed: ${error.message}`);\n      }\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const getBackendStatusColor = () => {\n    switch (backendStatus) {\n      case 'connected':\n        return 'bg-green-500';\n      case 'disconnected':\n        return 'bg-red-500';\n      case 'checking':\n        return 'bg-yellow-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n  const getBackendStatusText = () => {\n    switch (backendStatus) {\n      case 'connected':\n        return 'ML Backend Connected';\n      case 'disconnected':\n        return 'ML Backend Offline';\n      case 'checking':\n        return 'Checking Connection...';\n      default:\n        return 'Check ML Backend';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 30\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-white mb-4\",\n          children: \"Deep Learning Face Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white/80 mb-4 text-lg\",\n          children: \"Powered by MTCNN + FaceNet (VGGFace2)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-3 h-3 rounded-full ${getBackendStatusColor()} animate-pulse`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testBackendConnection,\n            className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: getBackendStatusText()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(UploadZone, {\n            type: \"image\",\n            onFileUpload: setSelectedImage,\n            selectedFile: selectedImage,\n            onClear: () => setSelectedImage(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UploadZone, {\n            type: \"video\",\n            onFileUpload: setSelectedVideo,\n            selectedFile: selectedVideo,\n            onClear: () => setSelectedVideo(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), (selectedImage || selectedVideo) && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 10\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: \"card p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-800 mb-2\",\n              children: \"Ready for Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 text-sm\",\n              children: [selectedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Reference Face:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-medium\",\n                  children: \"\\u2713 Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this), selectedVideo && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Analysis Video:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 font-medium\",\n                  children: \"\\u2713 Ready\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnalysisPanel, {\n          isAnalyzing: isAnalyzing,\n          onAnalyze: analyzeMedia,\n          results: results,\n          hasFiles: selectedImage && selectedVideo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), results && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-600\",\n              children: ((_results$mlStats = results.mlStats) === null || _results$mlStats === void 0 ? void 0 : _results$mlStats.totalFacesDetected) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Faces\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-green-600\",\n              children: ((_results$mlStats2 = results.mlStats) === null || _results$mlStats2 === void 0 ? void 0 : _results$mlStats2.targetDetections) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Target Matches\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-red-600\",\n              children: ((_results$mlStats3 = results.mlStats) === null || _results$mlStats3 === void 0 ? void 0 : _results$mlStats3.differentPeopleDetected) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Different People\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-purple-600\",\n              children: results.timestamps.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Detection Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(Results, {\n            results: results\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Timeline, {\n            events: results.timestamps\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), results.mlStats && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4\",\n            children: \"Analysis Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Method:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 22\n              }, this), \" \", results.mlStats.analysisMethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Note:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 22\n              }, this), \" \", results.mlStats.accuracyNote]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Frames Processed:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 22\n              }, this), \" \", results.totalFrames]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_s(Analysis, \"bAE4QOubuTe8woPsa5DSqz2KXcM=\", false, function () {\n  return [useCriminal];\n});\n_c = Analysis;\nexport default Analysis;\nvar _c;\n$RefreshReg$(_c, \"Analysis\");","map":{"version":3,"names":["React","useState","useCriminal","UploadZone","AnalysisPanel","Results","Timeline","motion","jsxDEV","_jsxDEV","Analysis","_s","_results$mlStats","_results$mlStats2","_results$mlStats3","criminals","setAnalysisResults","selectedImage","setSelectedImage","selectedVideo","setSelectedVideo","isAnalyzing","setIsAnalyzing","results","setResults","backendStatus","setBackendStatus","testBackendConnection","response","fetch","data","json","console","log","alert","port","status","method","error","analyzeMedia","type","startsWith","imageFormData","FormData","append","imageResponse","body","ok","errMsg","errBody","JSON","stringify","e","text","Error","imageResult","success","videoFormData","videoResponse","videoResult","formattedResults","matchFound","criminal","name","crime","severity","image","URL","createObjectURL","timestamps","analysisTime","totalFrames","mlStats","totalFacesDetected","targetDetections","differentPeopleDetected","confidenceThreshold","similarityThreshold","analysisMethod","accuracyNote","message","includes","getBackendStatusColor","getBackendStatusText","className","children","div","initial","opacity","y","animate","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onFileUpload","selectedFile","onClear","onAnalyze","hasFiles","length","events","_c","$RefreshReg$"],"sources":["/Users/nivetham/Documents/face identification in video/src/pages/Analysis/Analysis.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCriminal } from '../../context/CriminalContext';\nimport UploadZone from '../../components/UploadZone/UploadZone';\nimport AnalysisPanel from '../../components/AnalysisPanel/AnalysisPanel';\nimport Results from '../../components/Results/Results';\nimport Timeline from '../../components/Timeline/Timeline';\nimport { motion } from 'framer-motion';\n\nconst Analysis = () => {\n  const { criminals, setAnalysisResults } = useCriminal();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [results, setResults] = useState(null);\n  const [backendStatus, setBackendStatus] = useState('unknown');\n\n  const testBackendConnection = async () => {\n    try {\n      setBackendStatus('checking');\n      const response = await fetch('http://localhost:5000/api/health');\n      const data = await response.json();\n      console.log('Backend connection:', data);\n      setBackendStatus('connected');\n      alert(`âœ… Backend is running!\\nPort: ${data.port}\\nStatus: ${data.status}\\nMethod: ${data.method || 'Deep Learning Face Recognition'}`);\n    } catch (error) {\n      console.error('Backend connection failed:', error);\n      setBackendStatus('disconnected');\n      alert('âŒ Cannot connect to ML backend.\\n\\nPlease make sure:\\n1. Python server is running on port 5000\\n2. Backend dependencies are installed\\n3. No firewall blocking the connection');\n    }\n  };\n\n  const analyzeMedia = async () => {\n    if (!selectedImage || !selectedVideo) {\n      alert('Please upload both a reference face image and a video to analyze');\n      return;\n    }\n\n    // Validate file types\n    if (!selectedImage.type.startsWith('image/')) {\n      alert('Please upload a valid image file for the reference face');\n      return;\n    }\n\n    if (!selectedVideo.type.startsWith('video/')) {\n      alert('Please upload a valid video file for analysis');\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setResults(null);\n    \n    try {\n      console.log('Starting ML face classification analysis...');\n\n      // Step 1: Upload reference image to Python backend for ML training\n      const imageFormData = new FormData();\n      imageFormData.append('image', selectedImage);\n      \n      console.log('ðŸ“· Training ML classifier on reference face...');\n      const imageResponse = await fetch('http://localhost:5000/api/upload-reference', {\n        method: 'POST',\n        body: imageFormData,\n      });\n      \n      if (!imageResponse.ok) {\n        // Try to parse backend JSON error to show helpful message\n        let errMsg = `HTTP error! status: ${imageResponse.status}`;\n        try {\n          const errBody = await imageResponse.json();\n          if (errBody && errBody.error) errMsg = errBody.error;\n          else errMsg += ` - ${JSON.stringify(errBody)}`;\n        } catch (e) {\n          const text = await imageResponse.text();\n          if (text) errMsg = text;\n        }\n        throw new Error(errMsg);\n      }\n\n      const imageResult = await imageResponse.json();\n      console.log('ML training result:', imageResult);\n      \n      if (!imageResult.success) {\n        throw new Error(imageResult.error || 'Failed to train ML classifier on reference face');\n      }\n\n      // Step 2: Analyze video with ML classification\n      const videoFormData = new FormData();\n      videoFormData.append('video', selectedVideo);\n      \n      console.log('ðŸŽ¥ Analyzing video with ML face classification...');\n      const videoResponse = await fetch('http://localhost:5000/api/analyze-video', {\n        method: 'POST',\n        body: videoFormData,\n      });\n      \n      if (!videoResponse.ok) {\n        // Parse backend error JSON when possible so UI shows the real cause\n        let errMsg = `HTTP error! status: ${videoResponse.status}`;\n        try {\n          const errBody = await videoResponse.json();\n          if (errBody && errBody.error) errMsg = errBody.error;\n          else errMsg += ` - ${JSON.stringify(errBody)}`;\n        } catch (e) {\n          const text = await videoResponse.text();\n          if (text) errMsg = text;\n        }\n        throw new Error(errMsg);\n      }\n\n      const videoResult = await videoResponse.json();\n      console.log('ML classification results:', videoResult);\n      \n      if (videoResult.error) {\n        throw new Error(videoResult.error);\n      }\n\n      // Format results for frontend display - FIXED PROPERTY NAMES\n      const formattedResults = {\n        matchFound: videoResult.matchFound || false,\n        criminal: {\n          name: \"Target Person\",\n          crime: \"Reference Face Match\",\n          severity: \"High\",\n          image: URL.createObjectURL(selectedImage)\n        },\n        timestamps: videoResult.timestamps || [],\n        analysisTime: videoResult.analysisTime || 'Analysis Complete',\n        totalFrames: videoResult.totalFrames || 0,\n        // FIXED: Use correct property names from backend response\n        mlStats: {\n          totalFacesDetected: videoResult.totalFacesDetected || 0,\n          targetDetections: videoResult.targetDetections || 0,\n          differentPeopleDetected: videoResult.differentPeopleDetected || 0,\n          confidenceThreshold: (videoResult.similarityThreshold || 0.7) * 100,\n          analysisMethod: videoResult.method || \"Deep Learning Analysis\",\n          accuracyNote: videoResult.accuracyNote || \"Using advanced face recognition\"\n        }\n      };\n      \n      setResults(formattedResults);\n      setAnalysisResults(formattedResults);\n      \n      console.log('âœ… ML analysis completed successfully!');\n      \n    } catch (error) {\n      console.error('âŒ Analysis error:', error);\n      \n      if (error.message.includes('Failed to fetch')) {\n        alert(`ðŸš¨ Connection Error: Cannot reach ML backend\\n\\nPlease ensure:\\n1. Python server is running on port 5000\\n2. Run \"python3 app.py\" in backend folder\\n3. Check firewall settings\\n\\nError: ${error.message}`);\n      } else if (error.message.includes('face')) {\n        alert(`ðŸ¤– ML Analysis Error: ${error.message}\\n\\nPlease upload a clear face image where the face is visible and well-lit.`);\n      } else if (error.message.includes('video')) {\n        alert(`ðŸŽ¥ Video Error: ${error.message}\\n\\nPlease check the video file is supported (MP4, MOV, AVI) and not corrupted.`);\n      } else {\n        alert(`âŒ Analysis Failed: ${error.message}`);\n      }\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const getBackendStatusColor = () => {\n    switch (backendStatus) {\n      case 'connected': return 'bg-green-500';\n      case 'disconnected': return 'bg-red-500';\n      case 'checking': return 'bg-yellow-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  const getBackendStatusText = () => {\n    switch (backendStatus) {\n      case 'connected': return 'ML Backend Connected';\n      case 'disconnected': return 'ML Backend Offline';\n      case 'checking': return 'Checking Connection...';\n      default: return 'Check ML Backend';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center mb-8\"\n        >\n          <h1 className=\"text-4xl font-bold text-white mb-4\">Deep Learning Face Analysis</h1>\n          <p className=\"text-white/80 mb-4 text-lg\">\n            Powered by MTCNN + FaceNet (VGGFace2)\n          </p>\n          \n          {/* Backend Status */}\n          <div className=\"flex justify-center items-center gap-4 mb-4\">\n            <div className={`w-3 h-3 rounded-full ${getBackendStatusColor()} animate-pulse`}></div>\n            <button \n              onClick={testBackendConnection}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2\"\n            >\n              <span>{getBackendStatusText()}</span>\n            </button>\n          </div>\n        </motion.div>\n\n        {/* Main Analysis Area */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n          {/* Upload Section */}\n          <div className=\"space-y-6\">\n            <UploadZone\n              type=\"image\"\n              onFileUpload={setSelectedImage}\n              selectedFile={selectedImage}\n              onClear={() => setSelectedImage(null)}\n            />\n            <UploadZone\n              type=\"video\"\n              onFileUpload={setSelectedVideo}\n              selectedFile={selectedVideo}\n              onClear={() => setSelectedVideo(null)}\n            />\n\n            {/* Upload Status */}\n            {(selectedImage || selectedVideo) && (\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"card p-4\"\n              >\n                <h4 className=\"font-semibold text-gray-800 mb-2\">Ready for Analysis</h4>\n                <div className=\"space-y-2 text-sm\">\n                  {selectedImage && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Reference Face:</span>\n                      <span className=\"text-green-600 font-medium\">âœ“ Ready</span>\n                    </div>\n                  )}\n                  {selectedVideo && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Analysis Video:</span>\n                      <span className=\"text-green-600 font-medium\">âœ“ Ready</span>\n                    </div>\n                  )}\n                </div>\n              </motion.div>\n            )}\n          </div>\n\n          {/* Analysis Panel */}\n          <AnalysisPanel\n            isAnalyzing={isAnalyzing}\n            onAnalyze={analyzeMedia}\n            results={results}\n            hasFiles={selectedImage && selectedVideo}\n          />\n        </div>\n\n        {/* Results Section */}\n        {results && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-6\"\n          >\n            {/* Statistics Cards */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div className=\"card p-4 text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">{results.mlStats?.totalFacesDetected || 0}</div>\n                <div className=\"text-sm text-gray-600\">Total Faces</div>\n              </div>\n              <div className=\"card p-4 text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">{results.mlStats?.targetDetections || 0}</div>\n                <div className=\"text-sm text-gray-600\">Target Matches</div>\n              </div>\n              <div className=\"card p-4 text-center\">\n                <div className=\"text-2xl font-bold text-red-600\">{results.mlStats?.differentPeopleDetected || 0}</div>\n                <div className=\"text-sm text-gray-600\">Different People</div>\n              </div>\n              <div className=\"card p-4 text-center\">\n                <div className=\"text-2xl font-bold text-purple-600\">{results.timestamps.length}</div>\n                <div className=\"text-sm text-gray-600\">Detection Events</div>\n              </div>\n            </div>\n\n            {/* Main Results */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <Results results={results} />\n              <Timeline events={results.timestamps} />\n            </div>\n\n            {/* Analysis Info */}\n            {results.mlStats && (\n              <div className=\"card p-6\">\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Analysis Information</h3>\n                <div className=\"text-sm text-gray-600\">\n                  <p><strong>Method:</strong> {results.mlStats.analysisMethod}</p>\n                  <p><strong>Note:</strong> {results.mlStats.accuracyNote}</p>\n                  <p><strong>Frames Processed:</strong> {results.totalFrames}</p>\n                </div>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Analysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}